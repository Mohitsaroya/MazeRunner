<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MazeRunner: src/npc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MazeRunner<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A maze navigation game implemented in C using ncurses.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">npc.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>NPC drawing and dialog helpers for MazeRunner.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="npc_8h_source.html">npc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="maze_8h_source.html">maze.h</a>&quot;</code><br />
<code>#include &lt;ncurses.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for npc.c:</div>
<div class="dyncontent">
<div class="center"><img src="npc_8c__incl.png" border="0" usemap="#asrc_2npc_8c" alt=""/></div>
<map name="asrc_2npc_8c" id="asrc_2npc_8c">
<area shape="rect" title="NPC drawing and dialog helpers for MazeRunner." alt="" coords="61,5,140,31"/>
<area shape="rect" href="npc_8h.html" title="Non&#45;player character (NPC) utilities and drawing helpers." alt="" coords="5,79,63,104"/>
<area shape="poly" title=" " alt="" coords="92,33,56,70,52,67,88,29"/>
<area shape="rect" title=" " alt="" coords="59,152,143,177"/>
<area shape="poly" title=" " alt="" coords="103,31,103,138,98,138,98,31"/>
<area shape="rect" href="maze_8h.html" title="Public interface for maze creation and utilities." alt="" coords="139,79,209,104"/>
<area shape="poly" title=" " alt="" coords="115,29,154,67,150,71,111,33"/>
<area shape="poly" title=" " alt="" coords="47,103,82,140,79,144,43,106"/>
<area shape="poly" title=" " alt="" coords="164,106,124,144,121,140,160,102"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a939e3cbc5b5d640ee3d412ebf015fdde" id="r_a939e3cbc5b5d640ee3d412ebf015fdde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#a939e3cbc5b5d640ee3d412ebf015fdde">draw_dave_face</a> (WINDOW *npc_win)</td></tr>
<tr class="memdesc:a939e3cbc5b5d640ee3d412ebf015fdde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw Dave's face into the provided NPC window.  <br /></td></tr>
<tr class="separator:a939e3cbc5b5d640ee3d412ebf015fdde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff61194b18e39de9f284e07e1b3150f1" id="r_aff61194b18e39de9f284e07e1b3150f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#aff61194b18e39de9f284e07e1b3150f1">draw_lost_npc</a> (WINDOW *mazewin, int first_y, int second_y, int fixed_x, int player_input)</td></tr>
<tr class="memdesc:aff61194b18e39de9f284e07e1b3150f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a simple "lost" NPC indicator in the maze window.  <br /></td></tr>
<tr class="separator:aff61194b18e39de9f284e07e1b3150f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af011a511c7381bc975cdf0f9abfaa70e" id="r_af011a511c7381bc975cdf0f9abfaa70e"><td class="memItemLeft" align="right" valign="top">WINDOW *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#af011a511c7381bc975cdf0f9abfaa70e">npc_init</a> (int parent_height, int parent_width)</td></tr>
<tr class="memdesc:af011a511c7381bc975cdf0f9abfaa70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and return an NPC dialog window sized relative to parent.  <br /></td></tr>
<tr class="separator:af011a511c7381bc975cdf0f9abfaa70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a8439c19280d0780c0972d87ba33d5" id="r_a70a8439c19280d0780c0972d87ba33d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#a70a8439c19280d0780c0972d87ba33d5">dave_says</a> (WINDOW *npc_win, const char *line1, const char *line2, const char *line3)</td></tr>
<tr class="memdesc:a70a8439c19280d0780c0972d87ba33d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display up to three dialog lines from Dave inside <code>npc_win</code>.  <br /></td></tr>
<tr class="separator:a70a8439c19280d0780c0972d87ba33d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ade77fe84138f92b98aee09db4efab88d" id="r_ade77fe84138f92b98aee09db4efab88d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#ade77fe84138f92b98aee09db4efab88d">dave_face</a> []</td></tr>
<tr class="memdesc:ade77fe84138f92b98aee09db4efab88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">ASCII-art for Dave's face (array of C strings).  <br /></td></tr>
<tr class="separator:ade77fe84138f92b98aee09db4efab88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4d422876611bac3f9aa5032aa3be6e" id="r_a8d4d422876611bac3f9aa5032aa3be6e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#a8d4d422876611bac3f9aa5032aa3be6e">lost_player</a> []</td></tr>
<tr class="memdesc:a8d4d422876611bac3f9aa5032aa3be6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lines used when an NPC indicates the player is lost.  <br /></td></tr>
<tr class="separator:a8d4d422876611bac3f9aa5032aa3be6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31b58937102672c22e7aa4df9c38a95" id="r_ad31b58937102672c22e7aa4df9c38a95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npc_8c.html#ad31b58937102672c22e7aa4df9c38a95">lost_state</a> = 0</td></tr>
<tr class="memdesc:ad31b58937102672c22e7aa4df9c38a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">State flag used by NPC dialogue/behavior.  <br /></td></tr>
<tr class="separator:ad31b58937102672c22e7aa4df9c38a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NPC drawing and dialog helpers for MazeRunner. </p>
<p>Defines ASCII art for a simple NPC (Dave), manages a small NPC window and provides utilities to render the NPC face, a "lost" indicator, and dialog lines.</p>
<dl class="section author"><dt>Author</dt><dd>Mohit Saroya </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a70a8439c19280d0780c0972d87ba33d5" name="a70a8439c19280d0780c0972d87ba33d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a8439c19280d0780c0972d87ba33d5">&#9670;&#160;</a></span>dave_says()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dave_says </td>
          <td>(</td>
          <td class="paramtype">WINDOW *&#160;</td>
          <td class="paramname"><em>npc_win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display up to three dialog lines from Dave inside <code>npc_win</code>. </p>
<p>Display up to three lines of dialog in the NPC window.</p>
<p>The function clears the NPC window, draws a box, renders Dave's face and then prints the provided text lines to the right of the face area. Any of <code>line1</code>/<code>line2</code>/<code>line3</code> may be NULL to skip that line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">npc_win</td><td>Window used to display dialog. </td></tr>
    <tr><td class="paramname">line1</td><td>First line of dialog (or NULL). </td></tr>
    <tr><td class="paramname">line2</td><td>Second line of dialog (or NULL). </td></tr>
    <tr><td class="paramname">line3</td><td>Third line of dialog (or NULL). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a939e3cbc5b5d640ee3d412ebf015fdde" name="a939e3cbc5b5d640ee3d412ebf015fdde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a939e3cbc5b5d640ee3d412ebf015fdde">&#9670;&#160;</a></span>draw_dave_face()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_dave_face </td>
          <td>(</td>
          <td class="paramtype">WINDOW *&#160;</td>
          <td class="paramname"><em>npc_win</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw Dave's face into the provided NPC window. </p>
<p>Draw Dave's small ASCII face inside <code>npc_win</code>.</p>
<p>The face artwork is defined in <code>dave_face</code> and drawn starting at row 1, column 2 of <code>npc_win</code>. The window is refreshed after drawing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">npc_win</td><td>ncurses window to draw the face into. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff61194b18e39de9f284e07e1b3150f1" name="aff61194b18e39de9f284e07e1b3150f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff61194b18e39de9f284e07e1b3150f1">&#9670;&#160;</a></span>draw_lost_npc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_lost_npc </td>
          <td>(</td>
          <td class="paramtype">WINDOW *&#160;</td>
          <td class="paramname"><em>mazewin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>second_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fixed_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>player_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a simple "lost" NPC indicator in the maze window. </p>
<p>Draw a "lost" NPC at the specified coordinates inside <code>mazewin</code>.</p>
<p>The function optionally toggles the <code>lost_state</code> when <code>player_input</code> is non-zero to animate the indicator between <code>first_y</code> and <code>second_y</code> rows. It clears previous characters at the anchor column before drawing the current indicator and refreshes the parent window.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mazewin</td><td>Parent maze window where the indicator should be drawn. </td></tr>
    <tr><td class="paramname">first_y</td><td>Row index for the first indicator position. </td></tr>
    <tr><td class="paramname">second_y</td><td>Row index for the second indicator position. </td></tr>
    <tr><td class="paramname">fixed_x</td><td>Column position to draw the indicator. </td></tr>
    <tr><td class="paramname">player_input</td><td>Non-zero to toggle animation state, zero to leave it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af011a511c7381bc975cdf0f9abfaa70e" name="af011a511c7381bc975cdf0f9abfaa70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af011a511c7381bc975cdf0f9abfaa70e">&#9670;&#160;</a></span>npc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WINDOW * npc_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent_width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and return an NPC dialog window sized relative to parent. </p>
<p>Initialize an NPC window sized relative to the parent.</p>
<p>The dialog height is computed as approximately 15% of the parent height and is positioned near the bottom of the parent region. The returned window is boxed and refreshed before being returned. Caller is responsible for destroying the window when no longer needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_height</td><td>Height (rows) of the parent region or terminal. </td></tr>
    <tr><td class="paramname">parent_width</td><td>Width (columns) of the parent region or terminal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WINDOW* Newly created npc window, or NULL on allocation failure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ade77fe84138f92b98aee09db4efab88d" name="ade77fe84138f92b98aee09db4efab88d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade77fe84138f92b98aee09db4efab88d">&#9670;&#160;</a></span>dave_face</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* dave_face[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;  _ _  &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot; (O_O) &quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>ASCII-art for Dave's face (array of C strings). </p>

</div>
</div>
<a id="a8d4d422876611bac3f9aa5032aa3be6e" name="a8d4d422876611bac3f9aa5032aa3be6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4d422876611bac3f9aa5032aa3be6e">&#9670;&#160;</a></span>lost_player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* lost_player[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;*&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Lines used when an NPC indicates the player is lost. </p>

</div>
</div>
<a id="ad31b58937102672c22e7aa4df9c38a95" name="ad31b58937102672c22e7aa4df9c38a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31b58937102672c22e7aa4df9c38a95">&#9670;&#160;</a></span>lost_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lost_state = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State flag used by NPC dialogue/behavior. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
